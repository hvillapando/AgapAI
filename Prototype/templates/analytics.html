<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - Employee Retention Risk Assessment</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'fintech': {
                            '50': '#f0f9ff',
                            '500': '#0ea5e9',
                            '600': '#0284c7',
                            '700': '#0369a1',
                            '900': '#0c4a6e'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-users text-fintech-600 text-2xl"></i>
                        <h1 class="text-2xl font-bold text-gray-900 cursor-pointer" onclick="window.location.href='/'">AgapAI</h1>
                    </div>
                    <span class="text-gray-500">|</span>
                    <span class="text-gray-600">Workforce Analytics</span>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-sm text-gray-500" id="lastUpdated">Last Updated: 2 hours ago</span>
                    <button class="bg-fintech-600 text-white px-4 py-2 rounded-lg hover:bg-fintech-700 transition-colors" onclick="refreshData()">
                        <i class="fas fa-sync-alt mr-2"></i>Refresh Data
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation Menu -->
    <nav class="bg-white border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex space-x-8">
                <a href="/" class="nav-button py-4 px-2 border-b-2 font-medium text-sm transition-colors border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                    <i class="fas fa-chart-pie mr-2"></i>Dashboard
                </a>
                <a href="/analytics" class="nav-button py-4 px-2 border-b-2 font-medium text-sm transition-colors border-fintech-600 text-fintech-600">
                    <i class="fas fa-chart-line mr-2"></i>Analytics
                </a>
                <a href="/reports" class="nav-button py-4 px-2 border-b-2 font-medium text-sm transition-colors border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                    <i class="fas fa-file-alt mr-2"></i>Reports
                </a>
                <a href="/actions" class="nav-button py-4 px-2 border-b-2 font-medium text-sm transition-colors border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                    <i class="fas fa-tasks mr-2"></i>Action Items
                </a>
                <a href="/settings" class="nav-button py-4 px-2 border-b-2 font-medium text-sm transition-colors border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                    <i class="fas fa-cog mr-2"></i>Settings
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 py-8">
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-gray-900">Workforce Analytics</h1>
            <p class="text-gray-600 mt-2">Comprehensive insights into employee retention patterns and risk trends</p>
        </div>

        <!-- Analytics Overview Cards -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600">Average Risk Score</p>
                        <p class="text-3xl font-bold text-gray-900" id="avgRiskScore">42.3</p>
                    </div>
                    <div class="bg-blue-100 p-3 rounded-full">
                        <i class="fas fa-chart-line text-blue-600 text-xl"></i>
                    </div>
                </div>
                <p class="text-xs text-blue-600 mt-2">-2.1 from last month</p>
            </div>
            
            <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600">Risk Trend</p>
                        <p class="text-3xl font-bold text-green-600" id="riskTrend">â†“ 8.2%</p>
                    </div>
                    <div class="bg-green-100 p-3 rounded-full">
                        <i class="fas fa-arrow-down text-green-600 text-xl"></i>
                    </div>
                </div>
                <p class="text-xs text-green-600 mt-2">Improving trend</p>
            </div>
            
            <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600">Prediction Accuracy</p>
                        <p class="text-3xl font-bold text-indigo-600" id="predictionAccuracy">94.7%</p>
                    </div>
                    <div class="bg-indigo-100 p-3 rounded-full">
                        <i class="fas fa-bullseye text-indigo-600 text-xl"></i>
                    </div>
                </div>
                <p class="text-xs text-indigo-600 mt-2">AI model performance</p>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Risk Trends Chart -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">Risk Trends (Last 6 Months)</h3>
                    <select class="text-sm border border-gray-300 rounded px-2 py-1">
                        <option>Last 6 Months</option>
                        <option>Last Year</option>
                        <option>Last 2 Years</option>
                    </select>
                </div>
                <div class="h-64 flex items-center justify-center bg-gray-50 rounded-lg">
                    <div class="text-center">
                        <i class="fas fa-chart-line text-gray-400 text-3xl mb-2"></i>
                        <p class="text-gray-500">Interactive risk trend chart</p>
                        <p class="text-sm text-gray-400">Chart.js integration would go here</p>
                    </div>
                </div>
            </div>

            <!-- Department Breakdown -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Risk by Department</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                        <span class="text-sm font-medium text-gray-700">Engineering</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-24 bg-gray-200 rounded-full h-2">
                                <div class="bg-red-500 h-2 rounded-full" style="width: 35%"></div>
                            </div>
                            <span class="text-sm text-gray-600">35%</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-sm font-medium text-gray-700">Sales</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-24 bg-gray-200 rounded-full h-2">
                                <div class="bg-yellow-500 h-2 rounded-full" style="width: 28%"></div>
                            </div>
                            <span class="text-sm text-gray-600">28%</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-sm font-medium text-gray-700">Marketing</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-24 bg-gray-200 rounded-full h-2">
                                <div class="bg-green-500 h-2 rounded-full" style="width: 15%"></div>
                            </div>
                            <span class="text-sm text-gray-600">15%</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-sm font-medium text-gray-700">Finance</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-24 bg-gray-200 rounded-full h-2">
                                <div class="bg-blue-500 h-2 rounded-full" style="width: 22%"></div>
                            </div>
                            <span class="text-sm text-gray-600">22%</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-sm font-medium text-gray-700">Product</span>
                        <div class="flex items-center space-x-2">
                            <div class="w-24 bg-gray-200 rounded-full h-2">
                                <div class="bg-purple-500 h-2 rounded-full" style="width: 18%"></div>
                            </div>
                            <span class="text-sm text-gray-600">18%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Insights -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Insights</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="text-center p-4 bg-red-50 rounded-lg">
                    <div class="text-3xl font-bold text-red-600">5-7</div>
                    <div class="text-sm text-gray-600">Predicted resignations this quarter</div>
                    <div class="text-xs text-red-500 mt-1">Based on current trends</div>
                </div>
                <div class="text-center p-4 bg-blue-50 rounded-lg">
                    <div class="text-3xl font-bold text-blue-600">12</div>
                    <div class="text-sm text-gray-600">Days average intervention time</div>
                    <div class="text-xs text-blue-600 mt-1">Time to action</div>
                </div>
            </div>
        </div>

        <!-- Advanced Analytics -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Tenure Analysis -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Tenure vs Risk Correlation</h3>
                <div class="h-48 flex items-center justify-center bg-gray-50 rounded-lg">
                    <div class="text-center">
                        <i class="fas fa-chart-scatter text-gray-400 text-3xl mb-2"></i>
                        <p class="text-gray-500">Scatter plot visualization</p>
                        <p class="text-sm text-gray-400">Tenure vs Risk Score correlation</p>
                    </div>
                </div>
            </div>

            <!-- Seasonal Patterns -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Seasonal Risk Patterns</h3>
                <div class="h-48 flex items-center justify-center bg-gray-50 rounded-lg">
                    <div class="text-center">
                        <i class="fas fa-chart-area text-gray-400 text-3xl mb-2"></i>
                        <p class="text-gray-500">Seasonal trend analysis</p>
                        <p class="text-sm text-gray-400">Monthly risk patterns</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            updateLastUpdated();
        });

        function updateLastUpdated() {
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            document.getElementById('lastUpdated').textContent = `Last Updated: ${timeString}`;
        }

        function refreshData() {
            updateLastUpdated();
            // In a real app, this would trigger data refresh
            alert('Analytics data refreshed!');
        }
    </script>
</body>
</html>
